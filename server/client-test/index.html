<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Socket.io</title>
    </head>
 
    <body>
        <h1>Communication with socket.io!</h1>

        <input id="method" placeholder="Name" value="hello::all" />
        <input id="params" placeholder="Params" />

        <button id="send" onclick="send()">Send</button>

        <hr>

        <div id="test"></div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
        <script>
            var person = prompt("Please enter your name", "");
            
            var socket = io.connect('http://172.20.10.3:3000');

            if (person != null) {
                socket.emit('itsme', person);
            }

            function send() {
                var name = document.getElementById('method').value;
                var params = document.getElementById('params').value;

                socket.emit(name, params);
            }

            socket.emit('hello', null);

            socket.on('hello', function(msg){
                document.getElementById('test').innerHTML += '<br>'+msg;
            });
            
            socket.on('helloall', function(msg){
                document.getElementById('test').innerHTML += '<br>'+msg;
            });
        </script>
    </body>
</html>